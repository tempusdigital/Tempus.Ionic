<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Select</title>
  <link rel="stylesheet" href="https://unpkg.com/@ionic/core@4.8.0/css/core.css">
  <link rel="stylesheet" href="https://unpkg.com/@ionic/core@4.8.0/css/normalize.css">
  <link rel="stylesheet" href="https://unpkg.com/@ionic/core@4.8.0/css/structure.css">
  <link rel="stylesheet" href="https://unpkg.com/@ionic/core@4.8.0/css/typography.css">
  <script type="module" src="https://unpkg.com/@ionic/core@4.8.0/dist/ionic/ionic.esm.js"></script>
  <script nomodule="" src="https://unpkg.com/@ionic/core@4.8.0/dist/ionic/ionic.js"></script>
  <script type="module" src="/build/tempusdigitalionic.esm.js"></script>
  <script nomodule src="/build/tempusdigitalionic.js"></script>


  <script>
      var multiple;
  
      var single;
  
      var options = [];
  
      function init() {
        document.querySelector('t-combobox').componentOnReady().then(() => {
          for (let i = 1; i < 300; i++) {
            options.push({
              value: i,
              text: 'Text' + i.toString().padStart(3, '0'),
            })
          }
  
          var combos = document.querySelectorAll('t-combobox:not(.empty)');
  
          for (let i = 0; i < combos.length; i++) {
            var combo = combos.item(i);
  
            if (combo.id == 'multiple') {
              combo.addEventListener('change', handleMultipleChange);
              combo.value = ['1', '5'];
  
              var multipleValue = document.getElementById('multiple-value');
              multipleValue.textContent = JSON.stringify(combo.value);
            }
            else if (combo.id == 'single') {
              combo.addEventListener('change', handleSingleChange);
              combo.value = '1';
  
              var singleValue = document.getElementById('single-value');
              singleValue.textContent = combo.value;
            }
  
            combo.options = options;
  
            combo.messages = { noResultsText: 'Empty custom message!' };
          }
        });
      }
  
      function handleMultipleChange(e) {
        multiple = e.target.value;
  
        var combos = document.getElementsByTagName('t-combobox');
  
        for (let i = 0; i < combos.length; i++) {
          var combo = combos.item(i);
  
          if (combo.multiple)
            combo.value = multiple;
        }
  
        var multipleValue = document.getElementById('multiple-value');
        multipleValue.textContent = JSON.stringify(multiple);
      }
  
      function handleSingleChange(e) {
        single = e.target.value;
  
        var combos = document.getElementsByTagName('t-combobox');
  
        for (let i = 0; i < combos.length; i++) {
          var combo = combos.item(i);
  
          if (!combo.multiple)
            combo.value = single;
        }
  
        var singleValue = document.querySelectorAll('t-combobox:not(.empty)');
        singleValue.textContent = JSON.stringify(single);
      }
  
      function addOption() {
        var i = options.length + 1;
  
        options = [...options, {
          value: 'Value' + i,
          text: 'Text' + i,
        }];
  
        var combos = document.querySelectorAll('t-combobox:not(.empty)');
  
        for (let i = 0; i < combos.length; i++) {
          var combo = combos.item(i);
  
          combo.options = options;
        }
      }
    </script>
</head>

<body onload="init()">
  <ion-app>
    <ion-content>
      <form novalidate>
        <ion-list>
          <ion-list-header>Main</ion-list-header>

          <ion-button onclick="addOption()" padding>Add option</ion-button>

          <ion-item>
            <ion-label position="stacked">Stacked (with change event)</ion-label>
            <t-combobox id="single"> </t-combobox>
          </ion-item>
          <pre>Single: <span id="single-value"></span></pre>

          <ion-item>
            <ion-label position="stacked">Stacked Multiple (with change event)</ion-label>
            <t-combobox multiple id="multiple"> </t-combobox>
          </ion-item>
          <pre>Multiple: <span id="multiple-value"></span></pre>

          <ion-list-header>Others</ion-list-header>
          <ion-item>
            <ion-label position="stacked">Multiple (with placeholder)</ion-label>
            <t-combobox multiple placeholder="This is a placeholder"> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label>Toggle</ion-label>
            <ion-toggle> </ion-toggle>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">Single (with placeholder)</ion-label>
            <t-combobox placeholder="This is a placeholder"> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">Stacked Disabled</ion-label>
            <t-combobox disabled> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Floating</ion-label>
            <t-combobox> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Floating Disabled</ion-label>
            <t-combobox disabled> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Em branco, opcional</ion-label>
            <t-combobox> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Em branco, obrigatório</ion-label>
            <t-combobox required> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Em branco, sem placeholder, obrigatório</ion-label>
            <t-combobox required multiple> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Sem opções</ion-label>
            <t-combobox required class="empty"> </t-combobox>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Com validacao</ion-label>
            <t-combobox name="selectTeste" required> </t-combobox>
            <t-message validation-message="Mensagem de validação"></t-message>
          </ion-item>
        </ion-list>
      </form>
    </ion-content>
  </ion-app>

</body>

</html>